[gd_scene load_steps=11 format=2]

[ext_resource path="res://game/player/player_core.tscn" type="PackedScene" id=1]
[ext_resource path="res://game/player/player_core_local_input.gd" type="Script" id=2]
[ext_resource path="res://game/player/player_core_local_input_special.gd" type="Script" id=3]
[ext_resource path="res://assets/sprites/grad_red_dot.png" type="Texture" id=4]
[ext_resource path="res://game/player/player_core_local_debugui.tscn" type="PackedScene" id=5]
[ext_resource path="res://assets/models/tumble/tumble_hand.glb" type="PackedScene" id=6]
[ext_resource path="res://assets/shaders/electric/electric_grapple.tscn" type="PackedScene" id=7]
[ext_resource path="res://assets/shaders/electric/Shield.tres" type="Material" id=8]
[ext_resource path="res://assets/sounds/player/fire_grapplinghook1.mp3" type="AudioStream" id=9]

[sub_resource type="SpatialMaterial" id=1]
flags_unshaded = true
flags_no_depth_test = true
flags_fixed_size = true
flags_do_not_receive_shadows = true
flags_disable_ambient_light = true
albedo_color = Color( 0.407843, 0, 0, 1 )

[node name="PlayerCoreLocal" instance=ExtResource( 1 )]

[node name="Sound_Jump" parent="Model" index="2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 )

[node name="Sound_Shoot_GrapplingHook_1" type="AudioStreamPlayer3D" parent="Model" index="7"]
transform = Transform( 1.53846, 0, 0, 0, 1.53846, 0, 0, 0, 1.53846, 0, 0, 0 )
stream = ExtResource( 9 )

[node name="Sound_Shoot_GrapplingHook" parent="Model" index="8"]
stream = ExtResource( 9 )

[node name="GrappleVisualLine_1" parent="Model/LineHelper" index="0" instance=ExtResource( 7 )]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0.753, 0 )
visible = false

[node name="GrappleVisualLine" parent="Model/LineHelper" index="1"]
material = ExtResource( 8 )

[node name="AnimationTree" parent="." index="3"]
active = true

[node name="Input" type="Node" parent="." index="4"]
script = ExtResource( 2 )

[node name="SpecialInput" type="Node" parent="." index="5"]
script = ExtResource( 3 )

[node name="CameraHead" type="Spatial" parent="." index="6"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1.5, 0 )

[node name="CameraPivot" type="Spatial" parent="CameraHead" index="0"]

[node name="GrappleHookCast" type="RayCast" parent="CameraHead/CameraPivot" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.740826, 0.0206239 )
enabled = true
cast_to = Vector3( 0, 0, -400 )
collision_mask = 2
debug_shape_custom_color = Color( 1, 0, 0, 1 )
debug_shape_thickness = 5.0

[node name="ClippedCamera" type="ClippedCamera" parent="CameraHead/CameraPivot" index="1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.5 )
fov = 90.0

[node name="PlayerDebugUI" parent="." index="7" instance=ExtResource( 5 )]

[node name="GrappleVisualPoint" parent="GrapplingHook" index="0" instance=ExtResource( 6 )]
transform = Transform( 3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0 )

[node name="GrappleVisualPoint_1" type="CSGSphere" parent="GrapplingHook" index="1"]
visible = false
cast_shadow = 0
radius = 0.025
radial_segments = 22
rings = 22
material = SubResource( 1 )

[node name="GrappleVisualPoint_2" type="Sprite3D" parent="GrapplingHook" index="2"]
visible = false
cast_shadow = 0
billboard = 1
texture = ExtResource( 4 )

[connection signal="player_jump" from="Input" to="." method="_on_Input_player_jump"]
[connection signal="player_mousemotion_event" from="Input" to="." method="_on_Input_player_mousemotion_event"]
[connection signal="player_move" from="Input" to="." method="_on_Input_player_move"]
[connection signal="player_release_grapplinghook" from="Input" to="." method="_on_Input_player_release_grapplinghook"]
[connection signal="player_restore_origin" from="Input" to="." method="_on_Input_player_restore_origin"]
[connection signal="player_shoot_grapplinghook" from="Input" to="." method="_on_Input_player_shoot_grapplinghook"]
